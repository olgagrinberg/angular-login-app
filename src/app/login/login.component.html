<!-- src/app/login/login.component.html -->
<div class="login-page">
  <div class="login-container">
    <div class="login-card">
      <h2>Welcome Back</h2>
      <p class="subtitle">Please sign in to access your books library</p>

      <form #loginForm="ngForm" (ngSubmit)="onLogin(loginForm)" novalidate>
        <div class="form-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            name="username"
            [(ngModel)]="loginData.username"
            #username="ngModel"
            required
            minlength="3"
            class="form-control"
            [class.invalid]="username.invalid && username.touched"
            placeholder="Enter your username"
          >
          <div class="error-message" *ngIf="username.invalid && username.touched">
            <small *ngIf="username.errors?.['required']">Username is required</small>
            <small *ngIf="username.errors?.['minlength']">Username must be at least 3 characters</small>
          </div>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password"
            name="password"
            [(ngModel)]="loginData.password"
            #password="ngModel"
            required
            minlength="6"
            class="form-control"
            [class.invalid]="password.invalid && password.touched"
            placeholder="Enter your password"
          >
          <div class="error-message" *ngIf="password.invalid && password.touched">
            <small *ngIf="password.errors?.['required']">Password is required</small>
            <small *ngIf="password.errors?.['minlength']">Password must be at least 6 characters</small>
          </div>
        </div>

        <button
          type="submit"
          class="login-btn"
          [disabled]="loginForm.invalid || isLoading"
        >
          <span *ngIf="isLoading" class="loading-spinner"></span>
          {{ isLoading ? 'Signing in...' : 'Sign In' }}
        </button>
      </form>

      <div class="login-footer">
        <a href="#" class="forgot-password">Forgot your password?</a>
      </div>

      <div class="demo-credentials">
        <p><strong>Demo Credentials:</strong></p>
        <p>Username: <code>admin</code></p>
        <p>Password: <code>password</code></p>
      </div>

      @if (successMessage) {
        <div class="message success">
          {{ successMessage }}
        </div>
      }

      @if (errorMessage) {
        <div class="message error">
          {{ errorMessage }}
        </div>
      }
    </div>
  </div>
</div>
